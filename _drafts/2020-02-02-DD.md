---
date: "2020-01-28"
title: "File systems"
---
<!-- 2020-01-27-Simplest-possible-Linux-boot -->

<!-- markdownlint-disable MD025 -->
# File systems
<!-- markdownlint-enable MD025 -->

## Introduction

## Zero Unused/Deleted Data

### Windows

use fsutil.exe to clear out free space.

```cmd
fsutil volume diskfree f:
fsutil file createnew F:\clear 249899469856
fsutil file setvaliddata F:\clear 249899469856
fsutil file setzerodata offset=0 length=249899469856 F:\clear
del f:\clear
```

The key is to specify a directory on the volume that you want to wipe the used data from.  Can be any directory (., .., c:\Users) as the directory is just used to identify the drive.

cipher does a secure wipe, probably not necessary and might leave random numbers behind.

```cmd
cipher /W:c:\
```

[SDelete](https://docs.microsoft.com/en-us/sysinternals/downloads/sdelete) is a free download from Microsoft.  It is part of sysutils.

```cmd
sdelete -z c:\
```

### Linux

`zerofree`

[Other methods of doing this](https://unix.stackexchange.com/a/251804)

## Archive and Compress Linux

`gzip` is available almost everywhere and is [fast](https://tukaani.org/lzma/benchmarks.html). `bzip2` and `xz` are also available everywhere and are [slow with high compression](https://www.rootusers.com/gzip-vs-bzip2-vs-xz-performance-comparison/). 7zip (`7z`) gets the [highest overall compression](https://superuser.com/a/205984).

[Zeroing used space](https://www.techrepublic.com/blog/linux-and-open-source/drive-and-partition-backups-with-dd/)

<!-- markdownlint-disable MD034 -->
https://serverfault.com/a/821235
https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/fsutil-file
<!-- markdownlint-enable MD034 -->

## Links

* [Informative article on DD](https://www.linuxjournal.com/article/1320)
* [Disk partition CD](https://www.geeksforgeeks.org/dd-command-linux/)
* [Linux DD Command - 15 Examples with All Options](https://linoxide.com/linux-command/linux-dd-command-create-1gb-file/)
* [Tuning dd block size](http://blog.tdg5.com/tuning-dd-block-size/)
* [Can also use compression](https://www.techrepublic.com/blog/linux-and-open-source/drive-and-partition-backups-with-dd/)
* [Q&A Style information](https://www.howtoforge.com/linux-dd-command/)
* [DD manual](https://www.gnu.org/software/coreutils/manual/html_node/dd-invocation.html#dd-invocation)
* [DD disk bsckup and clone](https://www.linux.com/tutorials/full-metal-backup-using-dd-command/)
* [several handy examples and anti-examples](http://wiki.christophchamp.com/index.php?title=Dd_(command))
* [Block sizes, count, buffering, piping etc explained](https://unix.stackexchange.com/a/192114)
* [the blocking behaviour of dd and controlling that behaviour](https://unix.stackexchange.com/a/192092)
* [truncating or writing to an arbitary place in a file using dd](https://unix.stackexchange.com/a/12538)
* [more dd stuff including mounting and zeroing](https://www.linuxquestions.org/questions/linux-newbie-8/learn-the-dd-command-362506/)
* [DD for windows disk cloning](https://askubuntu.com/a/800275)
* [DD disk backup and clone](https://www.howtoforge.com/tutorial/linux-dd-command-clone-disk-practical-example/)
* [Secure DD dcfldd](http://dcfldd.sourceforge.net/)
* [DDrescue - recovery tool for failing drives](https://www.gnu.org/software/ddrescue/manual/ddrescue_manual.html)
* [7zip](https://www.7-zip.org/) also known as p7zip in [Arch Linux](https://wiki.archlinux.org/index.php/p7zip) and others.
* gzip [examples](https://www.rootusers.com/11-simple-gzip-examples/)

<!-- markdownlint-disable MD034 -->
https://serverfault.com/a/821235
https://docs.microsoft.com/en-us/windows-server/administration/windows-commands/fsutil-file
https://www.techrepublic.com/blog/linux-and-open-source/drive-and-partition-backups-with-dd/
<!-- markdownlint-enable MD034 -->
